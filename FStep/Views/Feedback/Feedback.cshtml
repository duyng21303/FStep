@model FStep.ViewModels.FeedbackVM
@{
	var format = System.Globalization.CultureInfo.GetCultureInfo("vi-VN");
}
<link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
<style>
	.star-rating {
		font-size: 2rem;
		cursor: pointer;
	}

	.star {
		color: lightgray;
	}

		.star.selected {
			color: gold;
		}
</style>


<div class="container py-5">
	<div class="row g-4">
		<div class="col-lg-12">
			<h1 class="mb-4">Feeback</h1>


			<div class="container-contentboby">
				<div class="row justify-content-center mb-3">
					<div class="card shadow-0 border rounded-3">
						<div class="card-body">
							<div class="col-lg-12">
								<div class="row">
									<div class="col-md-6 col-lg-3 col-xl-3 mb-4 mb-lg-0">
										<div class="fruit-img">
											<img src="@Url.Content("~/img/postPic/" + Model.Img)" class="img-fluid w-100 rounded" alt="Laptop">
										</div>
									</div>
									<div class="col-md-3 col-lg-6 col-xl-6">
										<h4>@Model.Title</h4>
										@if (Model.TypePost == "Sale")
										{
											<h6 class="badge bg-danger text-white fw-bold rounded">@Model.TypePost</h6>
										}
										else
										{
											<h6 class="badge bg-success text-white fw-bold rounded">@Model.TypePost</h6>
										}
										<h4 class="mb-1 me-1">@String.Format(format, "{0:0,0 VND}", Model.UnitPrice)</h4>
										<h5 class="text-success text-end"><span>x</span>@Model.Quantity</h5>
										<p class="text-truncate mb-4 mb-md-0">@Html.Raw(Model.Description)</p>
									</div>
									<div class="col-md-3 col-lg-3 col-xl-3 border-sm-start-none border-start">
										<div class="d-flex flex-row align-items-center mb-1">
											<span>Thành tiền:</span>
											<h5 class="mb-1 me-1 text-danger mx-2">@String.Format(format, "{0:0,0 VND}", Model.Amount)</h5>
											@* <span class="text-danger"><s>$20.99</s></span> *@
										</div>
										

									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>


			<div class="container-contentboby">


					<form asp-controller="Feedback" asp-action="Feedback" enctype="multipart/form-data">
						<div class="row">
							<div class="col-md-12 col-lg-6 col-xl-12">
								<div class="row">
									<div class="form-item">

										<h3>Chất lượng sản phẩm</h3>
										<div class="star-rating">
											<span class="star" data-value="1">&#9733;</span>
											<span class="star" data-value="2">&#9733;</span>
											<span class="star" data-value="3">&#9733;</span>
											<span class="star" data-value="4">&#9733;</span>
											<span class="star" data-value="5">&#9733;</span>
										</div>
										<p id="rating-value" class="mt-3"></p>
										<input asp-for="@Model.Rating" type="hidden" id="value-rating" />
									</div>
									<div class="form-item mb-3">
										<label asp-for="@Model.Content" class="form-label my-3"></label><sup>*</sup>
										<textarea asp-for="@Model.Content" type="text" class="form-control" id="summernoteDescription" placeholder="Chất lượng sản phẩn: "></textarea>
										<span asp-validation-for="@Model.Content" class="text-danger"></span>
										<input type="hidden" asp-for="@Model.IdPost" value="@ViewBag.Id" />
									</div>
									<div style="background-color=gray">
										<button type="submit" class="btn btn-primary border-secondary py-3 px-4 text-uppercase w-100 text-light">Post</button>
									</div>
								</div>
							</div>
						</div>
					</form>

			</div>
		</div>
	</div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
	$(document).ready(function () {
		$('.star').on('click', function () {
			var rating = $(this).data('value');
			$('.star').removeClass('selected');
			for (var i = 1; i <= rating; i++) {
				$('.star[data-value="' + i + '"]').addClass('selected');
			}
			$('#rating-value').text('You rated this ' + rating + ' stars.');
			$('#value-rating').val(rating);
		});
	});

	$(document).ready(function () {
		$('#submitModalForm').click(function () {
			var formData = {
				Name: $('#name').val(),
				Age: $('#age').val()
			};

			$.ajax({
				type: 'POST',
				url: '@Url.Action("SubmitModal", "Home")',
				data: formData,
				success: function (response) {
					// handle success
					alert('Data saved successfully');
				},
				error: function (xhr, status, error) {
					// handle error
					alert('Error: ' + error);
				}
			});

			$('#myModal').modal('hide');
		});
	});
</script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>