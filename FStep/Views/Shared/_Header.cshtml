<!-- Favicon -->
<link href="img/favicon.ico" rel="icon">

<!-- Google Web Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">



<!-- Icon Font Stylesheet -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">



<!-- Navbar Start -->
<style>
	body {
		font-family: "Arial", sans-serif;
		background-color: #f0f2f5;
		margin: 0;
		padding: 0;
	}

	/* Navbar dropdown */
	.nav-item {
		position: relative;
	}

	.notification {
		width: 360px;
		max-height: 400px; /* Giới hạn chiều cao của dropdown menu để có thể cuộn */
		overflow-y: auto; /* Cho phép cuộn dọc khi nội dung vượt quá giới hạn */
		border: none;
		border-radius: 0;
		margin-top: 5px; /* Adjust as needed */
		padding: 0;
		box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1); /* Optional: Add a subtle shadow */
	}

	.notification {
		width: 360px; /* Adjust the overall width of the notification card */
		padding: 15px;
		background-color: #ffffff;
		border-radius: 16px;
		box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
	}

	.notification-header {
		display: flex;
		align-items: center;
		justify-content: space-between;
		margin-bottom: 15px;
	}

	.notification-title {
		font-size: 16px;
		font-weight: 600;
		margin: 0;
		text-transform: capitalize;
	}

	.notification-close {
		cursor: pointer;
		color: #aaa;
	}

		.notification-close:hover {
			color: #666;
		}

	.notification-container {
		display: flex;
		align-items: flex-start;
	}

	.notification-media {
		position: relative;
		margin-right: 15px;
	}

	.notification-user-avatar {
		width: 60px;
		height: 60px;
		border-radius: 50%;
		object-fit: cover;
	}

	.notification-reaction {
		position: absolute;
		bottom: 0;
		right: 0;
		width: 30px;
		height: 30px;
		display: flex;
		align-items: center;
		justify-content: center;
		border-radius: 50%;
		color: white;
		background-image: linear-gradient(45deg, #0070e1, #14abfe);
		font-size: 14px;
	}

	.notification-content {
		flex: 1;
	}

	.notification-text {
		margin: 0 0 5px 0;
		font-weight: 400;
	}

	.notification-timer {
		font-size: 12px;
		color: #777;
	}

	.notification-status {
		position: absolute;
		top: 10px;
		right: 10px;
		width: 10px;
		height: 10px;
		border-radius: 50%;
		background-color: #dc3545;
	}

	/* Badge styles */
	.badge {
		font-size: 12px;
		padding: 4px 8px;
		border-radius: 12px;
	}

		.badge.bg-danger {
			background-color: #dc3545;
			color: #fff;
		}

	/* Font Awesome icons */
	.fa {
		font-size: 16px;
	}

	/* Dropdown styles */
	.dropdown-toggle::after {
		display: none;
	}

	.dropdown-toggle.notification-toggle {
		cursor: pointer;
		color: #333;
		text-decoration: none;
	}

		.dropdown-toggle.notification-toggle:hover {
			color: #555;
			text-decoration: none;
		}

	.dropdown-menu-end {
		right: 0 !important;
		left: auto !important;
	}

	.dropdown-menu .notification {
		position: relative;
	}

		.dropdown-menu .notification:last-child {
			margin-bottom: 0;
		}

</style>
<div class="container-fluid fixed-top">
	<nav class="navbar navbar-expand-lg bg-light navbar-light sticky-top px-4 py-0">
		<a href="/" class="navbar-brand d-flex align-items-center">
			<h2 class="text-primary mb-0"><i class="fa fa-car me-3"></i>FStep</h2>
		</a>
		<button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarCollapse">
			<div class="navbar-nav">
				@if (User.IsInRole("Moderator"))
				{
					<a class="nav-link text-dark" asp-area="" asp-action="ManagePosts" asp-controller="ModeManagePost">Quản lí</a>
					<a class="nav-link text-dark" asp-area="" asp-action="WareHouse" asp-controller="Warehouse">Kho hàng</a>
				}
				else
				{
					<a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Trang chủ </a>
					<a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Sale">Bán</a>
					<a class="nav-link text-dark" asp-area="" asp-controller="" asp-action="">Trao đổi</a>
					<div class="nav-item dropdown">
						<a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="TransactionHistory">Đã mua</a>
					</div>
				}
			</div>
			<div class="navbar-nav ms-auto align-items-center">
				@if (User.Identity.IsAuthenticated)
				{
					<div class="navbar-nav align-items-center ms-auto">
						<div class="nav-item dropdown">
							<a href="#" class="nav-link dropdown-toggle notification-toggle" data-bs-toggle="dropdown">
								Thông báo
								<span class="badge bg-danger">@ViewBag.NotificationCount</span>
							</a>
							<div class="dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0 notification" id="notification">
									
							</div>

						</div>
						<div class="nav-item dropdown">
							<a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
								<img class="rounded-circle me-lg-2" src="~/img/@User.FindFirst("IMG")?.Value" alt="" style="width: 40px; height: 40px;">
								<span class="d-none d-lg-inline-flex">
									@if (!string.IsNullOrEmpty(User.Identity.Name))
									{
										@User.Identity.Name
									}
									else
									{
										@User.Claims.FirstOrDefault(c => c.Type == System.Security.Claims.ClaimTypes.Email).Value.Split('@')[0]
										;
									}
								</span>
							</a>
							<div class="dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0">
								<a asp-action="Profile" asp-controller="Account" class="dropdown-item">Trang cá nhân</a>
								<a href="#" class="dropdown-item">Settings</a>
								<a asp-action="Logout" asp-controller="Account" class="dropdown-item">Đăng xuất</a>

							</div>
						</div>
					</div>
				}
				else
				{
					<div class="ms-auto">
						<a asp-controller="Account" asp-action="Login" type="hidden" class="border-danger" style="text-decoration: none;">
							<button type="submit" class="btn btn-primary"> Đăng nhập</button>
						</a>
						<a asp-action="Register" asp-controller="Registration" class="border-danger" style="text-decoration: none;">
							<button type="button" class="btn btn-secondary">Đăng kí</button>
						</a>
					</div>
				}
			</div>
		</div>
	</nav>
</div>
<!-- Navbar End -->