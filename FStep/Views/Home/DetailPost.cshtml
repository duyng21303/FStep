@using FStep.ViewModels
<style>
	body {
		background-color: #f0f0f0; /* Màu xám nhạt */
	}

	.project-details-section .project-detail .auto-container {
		background-color: #f0f0f0; /* Màu xám nhạt cho container chính */
	}

	.card {
		border: none
	}

	.product {
		background-color: #eee
	}

	.brand {
		font-size: 13px
	}

	.act-price {
		color: red;
		font-weight: 700
	}

	.dis-price {
		text-decoration: line-through
	}

	.about {
		font-size: 14px
	}

	.color {
		margin-bottom: 10px
	}

	label.radio {
		cursor: pointer
	}

		label.radio input {
			position: absolute;
			top: 0;
			left: 0;
			visibility: hidden;
			pointer-events: none
		}

		label.radio span {
			padding: 2px 9px;
			border: 2px solid #ff0000;
			display: inline-block;
			color: #ff0000;
			border-radius: 3px;
			text-transform: uppercase
		}

		label.radio input:checked + span {
			border-color: #ff0000;
			background-color: #ff0000;
			color: #fff
		}

	.btn-danger {
		background-color: #ff0000 !important;
		border-color: #ff0000 !important
	}

		.btn-danger:hover {
			background-color: #da0606 !important;
			border-color: #da0606 !important
		}

		.btn-danger:focus {
			box-shadow: none
		}

	.cart i {
		margin-right: 10px
	}

	.comment-section {
		background-color: #f9f9f9;
		border-radius: 10px;
		padding: 20px;
		margin-top: 30px;
		box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
	}

		.comment-section .comment-heading {
			font-size: 20px;
			font-weight: bold;
			margin-bottom: 20px;
			color: #ff0000;
		}

	.product-rating__author-name,
	.product-rating__time {
		font-size: .75rem;
	}

	.product-rating {
		background-color: var(--bs-body-bg);
	}

</style>
@model FStep.Data.Post
@{
	var comments = ViewData["comments"] as List<CommentVM> ?? new List<CommentVM>();
}
<section class="project-details-section">
	<div class="project-detail">
		<div class="auto-container">
			<!-- Upper Box -->
			<div class="upper-box row">
				<!--Project Tabs-->
				<div class="project-tabs tabs-box clearfix col-6">
					<!--Tab Btns-->
					<!--Tabs Container-->
					<div class="tabs-content">
						<!--Tab / Active Tab-->
						<div class="tab active-tab" id="tab-1">
							<figure class="image">
								<img style="border-radius: 25px; width: 650px; height: 500px;" src="@Url.Content("~/img/postPic/" + Model.Img)">
							</figure>
						</div>

					</div>
				</div>
				<div class="content-column col-lg-6 col-md-6 col-sm-6 mt-5">
					<div class="inner-column card" style="padding : 5px 5px 5px 5px;box-shadow: 0 3px 10px rgb(0 0 0 / 0.2);">
						<h1>@Model.Content</h1>
						@* <p>@Html.Raw(Model.Content)</p> *@
						<div style="min-height:30px;"></div>
						<h4>Ngày tạo</h4>
						<p>@Model.Date</p>
					</div>
				</div>
			</div>

			<div style="min-height:10px;"></div>
			<!--Lower Content-->
			<div class="lower-content">
				<div class="row clearfix">
					<!--Content Column-->
					<!--Info Column-->
					<div class="info-column col-lg-12 col-md-12 col-sm-12 ">
						<div class="inner-column wow fadeInRight card" style="padding : 5px 5px 5px 5px;box-shadow: 0 3px 10px rgb(0 0 0 / 0.2);">
							<h3>Thông tin</h3>
							<ul style="list-style-type: none;">
								<li><strong>Mô tả sản phẩm : @Html.Raw(Model.Detail)</li>
								<li><strong>Kiểu:</strong> @Model.Type</li>
								<li><strong>Tên người đăng :</strong> @Model.IdUserNavigation.Name</li>
							</ul>
							<!--Help Box-->
						</div>
					</div>
				</div>
			</div>
			<div style="background-color=gray;text-align:center" class="mt-2 btn border-secondary text-uppercase  text-primary">
				Chat
			</div>
			<div class="col-lg-12 mt-3">
				@* TODO: Hiển thị danh sách comment ở đây  *@
				@foreach (var comment in comments.OrderByDescending(c => c.Date))
				{
					<div class="product-rating d-flex gap-2 mb-2 p-2">
						<div class="product-rating__avatar">
							<img class="rounded-circle me-lg-2 product-rating__avatar-img" src="~/img/@User.FindFirst("IMG")?.Value" alt="" style="width: 40px; height: 40px;">
						</div>
						<div class="product-rating-main">
							<div class="product-rating__author-name">@comment.Name</div>
							<div class="product-rating__time">@comment.Date?.ToString("dd-MM-yyyy HH:mm:ss")</div>
							<div class="product-rating__content">@comment.Content</div>
						</div>
					</div>
				}
				<div class="inner-column wow fadeInRight card" style="padding : 5px 5px 5px 5px;box-shadow: 0 3px 10px rgb(0 0 0 / 0.2);">
					<span class="lead">Add your comment</span>
					<form method="post" asp-action="PostComment" asp-asp-controller="Home">
						<div>
							<input name="IdPost" value="@Model.IdPost" type="hidden" />
							<input name="RedirectUrl" value="DetailPost" type="hidden" />
							<textarea rows="3" class="form-control" name="Content"></textarea>
						</div>
						<div style="min-height:10px;"></div>
						<div>
							<button class="btn btn-danger" name="btn-comment">Comment</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</section>
