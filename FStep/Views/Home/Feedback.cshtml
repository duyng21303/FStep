@* @model FStep.ViewModels.FeedbackVM
@{
}
<link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
<style>
	.star-rating {
		font-size: 2rem;
		cursor: pointer;
	}

	.star {
		color: lightgray;
	}

		.star.selected {
			color: gold;
		}
</style>
<div class="modal-content">
	<div class="modal-header">
		<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	</div>
	<div class="modal-body">
		<div class="container">
			<h1 class="mb-4">Feeback</h1>
			<form asp-controller="Feedback" asp-action="Feedback" enctype="multipart/form-data">
				<div class="row">
					<div class="col-md-12 col-lg-6 col-xl-12">
						<div class="row">
							<div class="form-item">
								<div class="star-rating">
									<span class="star" data-value="1">&#9733;</span>
									<span class="star" data-value="2">&#9733;</span>
									<span class="star" data-value="3">&#9733;</span>
									<span class="star" data-value="4">&#9733;</span>
									<span class="star" data-value="5">&#9733;</span>
								</div>
								<p id="rating-value" class="mt-3"></p>
								<input asp-for="@Model.Rating" type="hidden" id="value-rating" />
							</div>
							<div class="form-item mb-3">
								<label asp-for="@Model.Content" class="form-label my-3"></label><sup>*</sup>
								<textarea asp-for="@Model.Content" type="text" class="form-control" id="summernoteDescription"></textarea>
								<span asp-validation-for="@Model.Content" class="text-danger"></span>
							</div>
							<div style="background-color=gray">
								<button type="submit" class="btn btn-primary border-secondary py-3 px-4 text-uppercase w-100 text-light">Post</button>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
		<button type="button" class="btn btn-primary">Save changes</button>
	</div>
</div>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
	$(document).ready(function () {
		$('.star').on('click', function () {
			var rating = $(this).data('value');
			$('.star').removeClass('selected');
			for (var i = 1; i <= rating; i++) {
				$('.star[data-value="' + i + '"]').addClass('selected');
			}
			$('#rating-value').text('You rated this ' + rating + ' stars.');
			$('#value-rating').val(rating);
		});
	});

	$(document).ready(function () {
		$('#submitModalForm').click(function () {
			var formData = {
				Name: $('#name').val(),
				Age: $('#age').val()
			};

			$.ajax({
				type: 'POST',
				url: '@Url.Action("SubmitModal", "Home")',
				data: formData,
				success: function (response) {
					// handle success
					alert('Data saved successfully');
				},
				error: function (xhr, status, error) {
					// handle error
					alert('Error: ' + error);
				}
			});

			$('#myModal').modal('hide');
		});
	});
</script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script> *@